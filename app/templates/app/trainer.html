{% extends 'app/base1.html' %} {% load static %} {% block content %}

<div class="main-content">
  <div class="page-content">
    <div class="container-fluid">
      <!-- Back Button -->
      <div class="mb-3">
        <a href="{% url 'trainer-profile' %}" class="text-primary fw-bold"
          >&larr; Back to All Trainers</a
        >
      </div>

      <!-- Profile Header Card -->
      <div
        style="
          display: flex;
          align-items: center;
          background: #ffffff;
          border-radius: 12px;
          padding: 20px;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
          margin-bottom: 20px;
          flex-wrap: wrap;
        "
      >
        <!-- Trainer Image -->
        <img
          src="{% if trainer.photo %}{{ trainer.photo.url }}{% else %}{% static 'assets/images/default-trainer.jpg' %}{% endif %}"
          alt="Trainer"
          style="
            height: 80px;
            width: 80px;
            border-radius: 8px;
            margin-right: 15px;
            margin-bottom: 15px;
          "
        />

        <!-- Trainer Info -->
        <div style="flex: 1; min-width: 200px">
          <h4
            style="margin: 0; font-size: 20px; font-weight: 600; color: #333333"
          >
            {{ trainer.first_name }} {{ trainer.last_name }}
          </h4>
          <p style="margin: 4px 0; color: #6c757d; font-size: 14px">
            {{ trainer.job_post }}
          </p>

          {% if trainer.active %}
          <span
            style="
              display: inline-block;
              padding: 4px 10px;
              background-color: #28a745;
              color: #fff;
              border-radius: 12px;
              font-size: 12px;
            "
          >
            Active
          </span>
          {% else %}
          <span
            style="
              display: inline-block;
              padding: 4px 10px;
              background-color: #dc3545;
              color: #fff;
              border-radius: 12px;
              font-size: 12px;
            "
          >
            Inactive
          </span>
          {% endif %}
        </div>
      </div>

      <!-- Stats Row as Cards -->
      <div
        style="
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between;
          margin: 20px 0;
          gap: 15px;
          text-align: center;
        "
      >
        <!-- Card 1: Sessions This Week -->
        <div
          style="
            flex: 1 1 200px;
            background: #ffffff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
          "
        >
          <h5
            style="margin: 0; font-size: 20px; font-weight: 600; color: #333333"
          >
            {{ total_sessions }}
          </h5>
          <p style="margin: 4px 0 0 0; color: #6c757d; font-size: 14px">
            Sessions This Week
          </p>
        </div>

        <!-- Card 2: Attendance Performance -->
        <div
          style="
            flex: 1 1 200px;
            background: #ffffff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
          "
        >
          <h5
            style="margin: 0; font-size: 20px; font-weight: 600; color: #333333"
          >
            {{ performance }}%
          </h5>
          <p style="margin: 4px 0 0 0; color: #6c757d; font-size: 14px">
            Attendance Performance
          </p>
        </div>

        <!-- Card 3: Days Present -->
        <div
          style="
            flex: 1 1 200px;
            background: #ffffff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
          "
        >
          <h5
            style="margin: 0; font-size: 20px; font-weight: 600; color: #333333"
          >
            {{ present_days }}/{{ total_days }}
          </h5>
          <p style="margin: 4px 0 0 0; color: #6c757d; font-size: 14px">
            Days Present
          </p>
        </div>

        <!-- Card 4: Salary -->
        <div
          style="
            flex: 1 1 200px;
            background: #ffffff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
          "
        >
          <h5
            style="margin: 0; font-size: 20px; font-weight: 600; color: #333333"
          >
            â‚¹{{ salary }}
          </h5>
          <p style="margin: 4px 0 0 0; color: #6c757d; font-size: 14px">
            Salary (this week)
          </p>
        </div>
      </div>

      <!-- Weekly Schedule & About Trainer -->
      <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px">
        <!-- This Week's Schedule Card -->
        <div
          style="
            flex: 1 1 600px;
            background: #ffffff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            min-width: 300px;
          "
        >
          <h5
            style="
              margin-bottom: 15px;
              font-size: 18px;
              font-weight: 600;
              color: #333333;
            "
          >
            This Week's Schedule
          </h5>

          <div style="display: flex; flex-wrap: wrap; gap: 10px">
            {% for s in schedule %}
            <div
              style="
                flex: 1 1 200px;
                background: #f8f9fa;
                border-radius: 8px;
                padding: 12px;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
                font-size: 14px;
                color: #333;
              "
            >
              {% if s.session_title %}
              <strong>{{ s.session_title }}</strong><br />
              Live Session ({{ s.session_datetime|date:"D, d M H:i" }}) {% else
              %}
              <strong>{{ s.session_name }}</strong><br />
              Offline Session ({{ s.date_time|date:"D, d M H:i" }}) {% endif %}
            </div>
            {% empty %}
            <p style="color: #6c757d">No sessions scheduled this week.</p>
            {% endfor %}
          </div>
        </div>

        <!-- About Trainer Card -->
        <div
          style="
            flex: 1 1 250px;
            background: #ffffff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            min-width: 250px;
          "
        >
          <h5
            style="
              margin-bottom: 15px;
              font-size: 18px;
              font-weight: 600;
              color: #333333;
            "
          >
            About
          </h5>
          <p style="margin: 5px 0; color: #555">Email: {{ trainer.email }}</p>
          <p style="margin: 5px 0; color: #555">
            Contact: {{ trainer.contact }}
          </p>
          <p style="margin: 5px 0; color: #555">Gender: {{ trainer.gender }}</p>
          <p style="margin: 5px 0; color: #555">
            Joining Date: {{ trainer.joining_date }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
